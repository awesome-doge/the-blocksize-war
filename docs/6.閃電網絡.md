
# 第六章－ 閃電網絡

隔離見證為用戶提供了創建無法被惡意第三方更改的交易的選項（第三方交易延展性）。這被認為是閃電網絡的關鍵組件，閃電網絡是比特幣的第二層擴展技術。如果沒有這個修復，閃電會太複雜而無法實施。

閃電網絡於 2015 年 2 月首次發表在 Joseph Poon 和 Thaddeus Dryja 的論文中。 幾個月後，Christian Decker 發表了一篇描述這些第二層解決方案的類似論文。[^1]這些論文描述了比特幣之上的第二層支付網絡的機制。多年來，比特幣領域一直在討論類似的概念。事實上，這個想法似乎起源於中本聰。[^2]閃電本質上是通過將多筆付款聚合到較少數量的比特幣交易中來工作的。比特幣交易用於打開支付渠道，一旦建立，就可以促進多次支付的流動。實體可以與許多不同的交易對手建立渠道，形成渠道網絡。然後，付款可以沿著已經相互直接連接的渠道找到一條路徑，直到它們到達最終接收方。

對於一些小的阻礙者來說，這種第二層​​架構對於高容量和廉價的全球支付系統更有意義。鏈上、基於區塊鏈的支付系統通常以“向所有人廣播”模式工作，即當一個人進行支付時，需要將交易廣播給網絡中的所有參與者。然後要求所有參與者處理此交易以查看它是否是對他們的付款。該系統被認為是非常低效的，尤其是對於小額支付。如果有人使用比特幣在法國購買咖啡，為什麼在日本銷售音樂會門票的商家需要檢查該交易？這本質上就是鏈上比特幣支付的工作方式，對於小型區塊鏈來說，該架構對小額支付毫無意義；它只需要作為貨幣體系的基礎層。閃電網絡代表了效率的提高，並使用了更合乎邏輯的支付網絡結構。交易可以更直接地發送給支付接收者，而不是向所有人廣播交易，更像是一種點對點架構。如果交易的一方不誠實並試圖竊取資金，那麼另一方可以將交易廣播到比特幣區塊鏈並收回資金。因此，區塊鍊和比特幣的工作量證明共識機制被用作爭議解決服務。當雙方都誠實時，可以避免工作量證明過程的細微差別、低效率和可擴展性限制。交易可以更直接地發送給支付接收者，更像是一種點對點架構。如果交易的一方不誠實並試圖竊取資金，那麼另一方可以將交易廣播到比特幣區塊鏈並收回資金。因此，區塊鍊和比特幣的工作量證明共識機制被用作爭議解決服務。當雙方都誠實時，可以避免工作量證明過程的細微差別、低效率和可擴展性限制。交易可以更直接地發送給支付接收者，更像是一種點對點架構。如果交易的一方不誠實並試圖竊取資金，那麼另一方可以將交易廣播到比特幣區塊鏈並收回資金。因此，區塊鍊和比特幣的工作量證明共識機制被用作爭議解決服務。當雙方都誠實時，可以避免工作量證明過程的細微差別、低效率和可擴展性限制。比特幣的工作量證明共識機制因此被用作爭議解決服務。當雙方都誠實時，可以避免工作量證明過程的細微差別、低效率和可擴展性限制。比特幣的工作量證明共識機制因此被用作爭議解決服務。當雙方都誠實時，可以避免工作量證明過程的細微差別、低效率和可擴展性限制。

較大的阻止者的主要擔憂是閃電似乎被用作不增加區塊大小限制的藉口或理由。對他們來說，這是非常不合適的。區塊大小問題現在是一個問題，而閃電網絡非常複雜，未經證實，在最好的情況下，距離變得可用還有很多年。對於大型阻撓者來說，比特幣完全是關於商家採用的，2015 年是一個巨大的成功時期。2015 年，Expedia、Overstock、TigerDirect、Newegg、戴爾、樂天和微軟都開始允許客戶以一種或另一種形式使用比特幣付款。2016 年 4 月，視頻遊戲商店 Steam 開始接受比特幣支付。這些商家沒有使用閃電網絡，他們使用的是鏈上交易。如果比特幣走上閃電之路，由於費用高昂和確認時間長，這些商家選擇的支付解決方案將變得不可靠。這對網絡來說將是一場災難，商家可能會因為糟糕的體驗而停止接受比特幣並且永遠不會回來。儘管閃電網絡具有技術上優越的架構，但這無關緊要。最終，這些商家中的許多確實停止接受比特幣，並且證明大型攔截器在很大程度上是正確的。“不要讓完美成為好人的敵人”這句話浮現在腦海中。不增加區塊大小顯然是一個糟糕的商業決策。失去這些商人對較大的阻撓者來說是一個巨大的挫折。這對網絡來說將是一場災難，商家可能會因為糟糕的體驗而停止接受比特幣並且永遠不會回來。儘管閃電網絡具有技術上優越的架構，但這無關緊要。最終，這些商家中的許多確實停止接受比特幣，並且證明大型攔截器在很大程度上是正確的。“不要讓完美成為好人的敵人”這句話浮現在腦海中。不增加區塊大小顯然是一個糟糕的商業決策。失去這些商人對較大的阻撓者來說是一個巨大的挫折。這對網絡來說將是一場災難，商家可能會因為糟糕的體驗而停止接受比特幣並且永遠不會回來。儘管閃電網絡具有技術上優越的架構，但這無關緊要。最終，這些商家中的許多確實停止接受比特幣，並且證明大型攔截器在很大程度上是正確的。“不要讓完美成為好人的敵人”這句話浮現在腦海中。不增加區塊大小顯然是一個糟糕的商業決策。失去這些商人對較大的阻撓者來說是一個巨大的挫折。“不要讓完美成為好人的敵人”這句話浮現在腦海中。不增加區塊大小顯然是一個糟糕的商業決策。失去這些商人對較大的阻撓者來說是一個巨大的挫折。“不要讓完美成為好人的敵人”這句話浮現在腦海中。不增加區塊大小顯然是一個糟糕的商業決策。失去這些商人對較大的阻撓者來說是一個巨大的挫折。

然而，對於較小的阻止者來說，比特幣不是一項業務，也不是一個與 VISA、Paypal 和萬事達卡競爭的支付系統。這是一種新的貨幣形式，雄心勃勃，對社會和經濟的變革潛力更大。它正在接受中央銀行。總的來說，小型攔截器並不反對比特幣成為一種快速而廉價的支付系統；它僅次於他們的主要優先事項，即一種強大的新型貨幣。

這不僅僅是意見上的不同：對於小塊頭來說，他們的優先級是一個聰明的戰略舉措，而大塊頭優先級是幼稚的。與信用卡和銀行電匯等其他一些集中支付方式相比，比特幣支付既快捷又便宜。然而，如果比特幣獲得吸引力，這些支付服務可以簡單地降低費用並加快交易時間。事實上，從 IT 架構的角度來看，沒有什麼能阻止這一點。集中支付網絡更高效。與比特幣或任何去中心化系統相比，中心化 IT 系統能夠以更快的速度和更低的成本處理更多交易。這些集中支付系統沒有這樣做的原因是缺乏競爭和一些與管理相關的法律問題，這些問題是可以克服的。這不是因為集中式數據庫技術存在一些根本性缺陷。如果比特幣專注於成為一個低成本的支付網絡，每個人都認為這是一件好事，那麼它肯定會在短期內獲得市場份額；然而，從長遠來看，它的優勢將被證明是不可持續的。相比之下，成為一種新的貨幣形式，能夠進行不可阻擋的電子交易，是傳統金融機構無法與之競爭的。因此，這可能是長期可持續價值的驅動因素。同樣，這一切似乎都歸結為對時間偏好的相同分歧。從長遠來看，它的優勢將被證明是不可持續的。相比之下，成為一種新的貨幣形式，能夠進行不可阻擋的電子交易，是傳統金融機構無法與之競爭的。因此，這可能是長期可持續價值的驅動因素。同樣，這一切似乎都歸結為對時間偏好的相同分歧。從長遠來看，它的優勢將被證明是不可持續的。相比之下，成為一種新的貨幣形式，能夠進行不可阻擋的電子交易，是傳統金融機構無法與之競爭的。因此，這可能是長期可持續價值的驅動因素。同樣，這一切似乎都歸結為對時間偏好的相同分歧。

因此，對於小型阻止者而言，問題不是在支付網絡和穩健的貨幣系統之間做出選擇，大型阻止者更喜歡前者，而小型阻止者則更喜歡後者。快速和廉價的支付網絡想法不會產生具有可持續競爭優勢的模型。區塊鏈技術根本不具備使其適用於此的特徵，它沒有擴展性。他們認為，有效地擁有兩者的唯一方法是使用第二層解決方案，例如閃電。

由於閃電網絡非常複雜，這當然會導致混亂，就像隔離見證一樣。有人錯誤地聲稱鎖定在閃電通道內的硬幣會受到信用風險的影響，並聲稱閃電會以某種方式使比特幣的信用擴張成為一個更大的問題。閃電的高度複雜性當然是一個問題，並且存在有效的問題和擔憂。問題是如何確保渠道有足夠的流動性來促進支付。閃電有交易費用，用戶需要支付這筆費用以激勵提供流動性，目前尚不清楚是否存在這樣的動態，以便可以有效地擴展為廉價、可靠的支付網絡。與鏈上比特幣支付相比，閃電網絡還存在其他幾個問題，例如，它要求交易的接收者在線並與發送者互動，而比特幣則不需要。閃電還要求用戶監控和管理他們的渠道，以確保他們有足夠的流動性並防止他們的渠道被盜。對於小的阻攔者來說，這些都是真正的問題。然而，從長遠來看，這些問題最終會被用戶隱藏，第三方服務或聰明的錢包將使用自動化機制提供解決方案。同樣，這與時機有關；這些系統可能需要很多年才能開發和成熟。以確保他們有足夠的流動性並防止他們的渠道被盜。對於小的阻攔者來說，這些都是真正的問題。然而，從長遠來看，這些問題最終會隱藏在用戶之外，第三方服務或聰明的錢包將使用自動化機制提供解決方案。同樣，這與時機有關；這些系統可能需要很多年才能開發和成熟。以確保他們有足夠的流動性並防止他們的渠道被盜。對於小的阻攔者來說，這些都是真正的問題。然而，從長遠來看，這些問題最終會隱藏在用戶之外，第三方服務或聰明的錢包將使用自動化機制提供解決方案。同樣，這與時機有關；這些系統可能需要很多年才能開發和成熟。

大型攔截器可以聲稱具有一定的合法性，小型攔截器是高度智能的計算機極客，偏向於復雜、技術上優雅但不切實際的解決方案。據說小型阻撓者缺乏商業頭腦，看不出需要一個更簡單的解決方案來解決這些問題。就閃電而言，這是迄今為止已證明大型阻擋物大部分正確的領域之一。在撰寫本文時，雖然閃電網絡正在獲得牽引力並且技術正在迅速改進，但閃電網絡的商家採用是有限的。2015 年底商家採用比特幣似乎比今天的閃電採用更重要。但是，我仍然對閃電網絡持樂觀態度，如果展望未來幾十年，成功仍有可能。

[^1]: https://link.springer.com/chapter/10.1007/978-3-319-21741-3_1

[^2]: https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2013-April/002417.html

