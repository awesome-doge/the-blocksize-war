
# 第二十章– SegWit2x

大多數小型阻撓者在對抗紐約州第二階段的競選活動中基本上保持沉默，希望在更積極地參與之前第一階段成功進行。2017 年 8 月，隨著 SegWit 安全鎖定，是時候加強對抗第二階段的運動了。到了衝突的這一點，與戰爭開始形成鮮明對比的是，小型攔截器擁有明確而強大的大多數用戶支持。無論出於何種意圖和目的，小型阻撓者通過影響論據和推理的力量以及他們取得的勢頭和成功，說服了大量社區和交易者加入他們的行列。大多數人只是想支持獲勝的一方。

隨著衝突的進行，大街區一側的主要人物發生了變化。第一輪，小攔網擊敗了加文·安德森和邁克·赫恩，然後在第二輪擊敗了羅傑·維爾和吳忌寒。最後，還有第三組角色要擊敗，Jeff Garzik 和 Mike Belshe。Jeff 是 SegWit2x 客戶端的首席開發人員，而 BitGo 的首席執行官 Mike 不知何故接過了大型區塊團隊的接力棒。此時 Roger Ver 和 Jihan Wu 大多已退出戰爭，而是將精力集中在推廣比特幣現金上。

2017 年 8 月 3 日，一個拉取請求被合併到比特幣核心中，新代碼阻止了 BTC1 節點與比特幣核心建立連接。由於預計網絡無論如何都會分裂，因此可以說這對兩種代幣來說都是一個很好的舉動，使它們能夠與同一網絡上的節點進行更強的對等互連。然而，Jeff Garzik 對此並不滿意，並評論道：

> *即使比特幣核心和 Segwit2x 節點在今天 100% 驗證相同的規則，這也會造成鏈分裂；由於假定的未來規則偏差，它會造成鏈分裂。結果是一堆不確定的島嶼。在 Segwit2x Fork 部署之前，這是一個非常敵對且不安全的更改。*

儘管從技術上講，這種對比特幣核心對等互連的更改對於發生分裂的兩種代幣來說都是一個優勢，但這裡的政治信息很明確。Bitcoin Core 不會實施 SegWit2x，而是會繼續在現有的比特幣鏈上工作。

小型阻止者為了試圖說服社區不要運行 BTC1 而使用的另一種策略是強調 Jeff Garzik 明顯的虛偽。2012 年，Garzik 似乎闡明了小塊的敘述，提出了與小塊塊今天所說的完全相同的觀點：

> *如果客戶集體拒絕接受和中繼您的區塊，則 51% 或什至 90% 的哈希能力毫無意義。*

2013 年 2 月，Garzik 甚至談到了硬分叉的經濟意義以及與缺乏強制重放保護相關的問題。這對我來說特別痛苦，因為這是我第一次接觸到許多這樣的論點。而現在，具有諷刺意味的是，開發和推廣客戶的人正是他大約四年前反對的事情。當然，隨著時間的推移改變主意完全是合法的，這並不意味著傑夫是惡意的或偽君子。然而，這確實導緻小塊頭指責傑夫“出賣西裝”。2013 年 2 月，傑夫寫道：

> *在接近改變最大區塊大小的經濟分析之前，了解硬分叉的概念和經濟影響至關重要。硬分叉是一個重大事件，它會將合法用戶從網絡中剔除，使硬幣無法使用，或者可能使相同的硬幣在兩個不同的位置使用，具體取決於您是否正在與更新的節點交談。這是，選擇一個戲劇性的術語，一個滅絕級別的事件。如果做得不好，硬分叉可能會使合理的商家無法信任他們收到的比特幣，這是他們經濟價值的基礎。此外，硬分叉類似於憲法公約：硬分叉意味著能夠重寫比特幣的基本規則，無論是塊大小、21M 限制、SHA256 哈希還是其他嚴格的行為。因此，始終存在不可預測的礦工、用戶和開發人員更改的風險，而不僅僅是塊大小，因為在硬分叉時更改其他難以更改的功能具有最大的工程意義。對於所有比特幣用戶來說，這是一個具有廣泛經濟後果的核選項。*

小型攔截器的另一個策略是根據 NYA 文件在 SegWit2x 支持者的官方列表上工作。計劃是安排與公司的會議和電話，並解釋NYA的缺陷；特別是，它導致了分裂，與比特幣現金不同，它缺乏強制性重放保護，這可能會導致資金損失。有一長串公司，也許其中一些不了解NYA的弱點。如果他們中的任何一個叛逃，這將極大地破壞紐約時報。這將表明該計劃具有負面勢頭，甚至在最初的簽署方之間也缺乏共識，更不用說來自更廣泛社區的共識。

第一次叛逃發生在 2017 年 8 月 22 日，Bitwala 宣布他們不會遵守協議：

> *我們收到了越來越多關於 Bitwala 支持紐約協議（簡稱“NYA”）的詢問。*

> *…*

> *該協議幫助過早地超過了隔離見證激活閾值，因此必要的軟分叉順利完成。幾乎在同一時間，許多礦工決定在與比特幣相同的創世區塊的基礎上創建比特幣分叉，將這種硬幣命名為“比特幣現金”（“BCH”）——從該鏈中刪除隔離見證並實施更改包括（除其他外）對高達 8MB 的塊的支持。*

> *…*

> *Bitwala 不僱用或贊助比特幣開發人員，因此我們對核心開發團隊的工作幾乎沒有影響。我們希望遵守我們訂閱的協議（作為先行者之一，大多數開發人員不會簽署協議這一事實並不知情）。然而，我們也是一家服務公司，一直並且將始終遵循我們的客戶使用和想要使用的內容。*

> *…*

> *我們不會主動分叉我們認為的“比特幣”，即當前核心開發團隊支持的鏈。*

這是對抗 NYA 第二階段的重要時刻：第一次叛逃。然而，這並不是一次完美的背叛。Bitwala 似乎想要遵循“當前核心開發團隊”支持的鏈，而不是現有的規則鏈，除非有廣泛的支持來更改規則。這加深了人們的誤解，即這場戰鬥是開發人員與礦工之間的較量，而 Bitwala 選擇了開發人員這一方。儘管有這種大的阻擋者構成了衝突，小阻擋者仍然慶祝並接受了勝利。

儘管有這種背叛，Mike Belshe 仍然熱衷於繼續推進項目並使事情保持正軌。2017 年 8 月 23 日，他寫信給 SegWit2x 郵件列表，說：

> *隨著 SegWit 的激活，這是發送快速項目更新的好時機。您可能已經註意到 SegWit2x 團隊最近非常安靜。這是一個好兆頭，因為它表明代碼按預期運行。SegWit2x 的目標是創建一個相對“無聊”的簡單穩定的代碼庫。如果您在接下來的幾週內沒有聽到關於 SegWit2x 開發的太多消息，這是一個好兆頭。*

8 月 31 日，簽署協議的礦池之一 F2Pool 宣布不支持 SegWit2x。儘管當時該礦池的區塊中仍有“NYA”標誌，但礦池運營商王春表示，該礦池計劃在重新啟動服務器時移除該標誌。這是NYA的又一次重大叛逃。有了龐大的礦池，比特幣鏈就會向前發展，只要投資者更喜歡比特幣鏈的原始規則（這在這一點上似乎很可能），更多的礦工可能會違反協議並開採原始比特幣以確保他們獲得更高的收益利潤。

9 月 1 日，另一家簽署 NYA 的公司的 CEO 兼創始人 Wayniloans 在推特上表示，他們從未同意所有的 NYA，並且在 Wayniloans 簽署後，協議發生了變化。幾週後通過電子郵件證實了這一點，巴里·西爾伯特回復了郵件，表示一定程度的失望：

> *當然歡迎您撤回對 SegWit2x 的支持，但您下面的陳述並不准確。我收到了您在美國東部時間 5 月 21 日星期日晚上 8:40 發來的電子郵件，確認支持 5 月 23 日發布的最終完整聲明。此外，作為提醒，我被要求在協議中添加 Wayniloans，而不是其他方式，所以我不知道你被告知了什麼。*

在這一點上，叛逃的人數開始增加。2017 年 9 月 26 日，Vaultoro 叛逃：

> *我們在 Bcash Fork 之前簽署了 Way。簽署是因為我想幫助打破營地之間的僵局。它奏效了，我們現在有了隔離見證。作為任何優秀的商人，我堅持我的諾言/簽名並會跟進 2x 但我不能沒有重播保護。*

南美交易所 surBTC 也撤回了對 NYA 的支持：

> *儘管如此，我們不能假裝是比特幣“擴容專家”。我們不相信試圖強行改變比特幣的核心開發人員感到不安全。目前在核心比特幣項目上合作的團隊的技術背景具有前所未有的水平，我們相信他們至少作為一個團隊是公正的專家，至少應該在這個問題上發表意見。儘管我們很樂意擁有適度更大的區塊來滿足不斷增長的需求，但我們認為比特幣需要（至少大多數）比特幣核心開發人員的支持才能負責任地做到這一點。我們還沒有看到這種支持，我們不喜歡我們目前在 Btc1 代碼庫上看到的技術考慮和開源協作方面的內容。*

總部位於英國的交易所加密設施隨後退出了協議。由於缺乏重放保護，最終將收購加密設施的公司 Kraken 的首席執行官也表示反對 SegWit2x。另一位簽署人 Bitfury 也表示，它可能不願意通過 NYA 的第二階段。現在幾乎不可能跟踪所有叛逃者，而且協議似乎正在破裂。

營地的大街區也有叛逃者。另一位簽署人 Yours 宣布將完全轉向比特幣現金鍊。比特大陸的主要內部礦池 Antpool 也開始開採比特幣現金。當然，有人可能會爭辯說，支持或開採比特幣現金並沒有違背協議。可以說，企業開採多個代幣以在多個鏈上產生收入或支持代幣是完全合法的。當然，這是正常且可接受的業務。但是，如果簽署方可以在分裂後繼續支持這兩個代幣，並且礦工可以在分裂的雙方自由開採，那麼人們也可以爭辯說，NYA 在很大程度上毫無意義，兩條鏈將繼續存在。小阻撓者爭辯說，

儘管 SegWit2x 的前景正在迅速減少，對重放保護的需求越來越強烈，但在 2017 年 10 月 8 日，Mike Belshe 繼續推進：

> *“重放保護”，正如你所說的，分裂了鏈條。這根本沒有意義 - 您會突然打破 10 多萬個 SPV 客戶端，否則這些客戶端可以正常工作。Segwit2x 的目標是幫助避免這種情況。今天，我們正在部署 Segwit2x，絕大多數礦工仍在為此發出信號。最重要的是，99.94% 的節點和 SPV 客戶端將自動遵循最長的鏈 (Segwit2x)。我知道有些人不希望比特幣以這種方式工作，但這就是比特幣升級的實施方式。*

一些 SegWit2x 支持者隨後開始爭論原始規則鏈應該實施強制重放保護，因為這將是少數算力鏈。然而，這實際上是不可能的，因為強制重放保護很可能是一個不兼容的變化，因此會導致一個新的硬幣和鏈分裂，導致不是兩個，而是三個硬幣。小型攔截器反駁說，只有不兼容的客戶端才能實現強制重放保護。

2017 年 10 月 6 日，Bitfinex 為 SegWit2x 升級列出了分鏈代幣，就像他們在今年早些時候為 Bitcoin Unlimited 所做的那樣。這些硬幣的交易價格在比特幣價格的 20% 到 4% 之間，這表明大多數經濟體，至少是投資者和交易者，更喜歡比特幣的原始規則，而不是 SegWit2x。

Bitfinex 還澄清了其關於鏈分裂的立場，表示最初它會將現有規則鏈，或它所謂的“現有實施”視為比特幣，將 SegWit2x 鏈視為稱為“B2X”的替代代幣。即使 B2X 具有更高的散列能力，此 Bitfinex 策略也適用。然而，Bitfinex 確實為支持 NYA 敞開了大門，稱“市場力量可能會提出替代標籤計劃”。這本質上是 Bitfinex 表明最終取決於投資者和交易者通過確定哪種代幣的市場價格更高來將哪種代幣定義為比特幣。

> *由於擬議的共識協議 Segwit2x 項目似乎可能會激活，我們選擇將 Segwit2x 分叉指定為 B2X，暫時。即使 B2X 鏈具有更大的算力，現有的實施（基於現有的比特幣共識協議）將繼續以 BTC 的形式進行交易。我們這樣做是出於實際和操作原因。政治考慮在這裡無關緊要。雖然我們無法更改或重新分配股票代碼，但我們可以更改與該股票代碼相關的標籤或描述。目前，BTC 將繼續被貼上“比特幣”的標籤，而 B2X 將被貼上“B2X”的標籤。除非並且直到市場力量為一個或兩個鏈提出替代的、更合適的標籤方案，否則這種情況將一直存在。*

大約一周後，即 2017 年 10 月 13 日，BitMEX 發表了比 Bitfinex 更強有力的聲明，再次表明它會將 B2X 視為一種替代貨幣，即使它的哈希率高於比特幣：

> *SegWit2x (B2X) 提案旨在增加區塊大小。計劃於 2017 年 11 月進行。此更改與當前的比特幣規則集不兼容，因此可能會創建新的硬幣。這種新代幣的支持者希望它被稱為比特幣，但是哪種代幣被稱為比特幣並不能由新代幣的支持者決定。投資者和交易者可以決定哪種代幣的價值最高。為了讓這個過程順利進行，強大的雙向交易重放保護是必要的。我們的理解是，SegWit2x 提案不包括默認啟用的雙向交易重放保護。因此 BitMEX 將無法支持 SegWit2x。因此，BitMEX 將不支持 B2X 的分發，BitMEX 也不對發送給我們的任何 B2X 負責。*

10 月 23 日，BitMEX 的 CEO Arthur Hayes 發表了一篇題為“Trading ShitCoin2x”的博文。“ShitCoin2x”模因受到了較小的阻止者的慶祝，而對於 NYA 的最後剩餘支持者來說，情況看起來很暗淡。如果他們推出他們的代幣，看起來這將是另一種低於比特幣價格 10% 的山寨幣。

第二天，Jeff Garzik 宣布他將推出一種名為“Metronome”的新代幣。這是小型阻止者進入 SegWit2x 項目的另一個機會，聲稱首席開發人員已經失去了注意力，現在正在從事其他項目。彭博社報導了該公告如下：

> *Jeff Garzik 是少數幫助構建比特幣底層軟件（即區塊鏈）的關鍵開發人員之一，他親眼目睹了它的缺點。所以他決定創造一種更好的數字貨幣。他稱它為節拍器，並說它將是第一個可以在不同區塊鏈之間跳轉的。移動性意味著如果一個區塊鏈因開發者之間的內鬥或使用不力而消亡，節拍器所有者可以將其持有的資產轉移到其他地方。創造節拍器的初創公司 Bloq 的聯合創始人 Garzik 在電話採訪中說，這應該有助於硬幣保持價值，並確保它們的長壽。*

2017 年 10 月 23 日，Coinbase 公佈了有關 SegWit2x 的政策。Coinbase 是 NYA 的簽約方，在這一點上，它並沒有放棄對 NYA 的支持。該公司也有支持所有其他硬分叉嘗試的歷史，因此其關於這種分叉的政策得到了廣泛的預期。就像 Bitfinex 和 BitMEX 一樣，Coinbase 表示已經放棄了 NYA，並將 SegWit2x 幣視為替代幣：

> *比特幣 Segwit2x – 比特幣 Segwit2x 分叉預計將於 11 月 16 日舉行，並將暫時產生兩個比特幣區塊鏈。在分叉之後，Coinbase 將繼續將當前的比特幣區塊鏈稱為比特幣 (BTC)，將分叉區塊鏈稱為 Bitcoin2x (B2X)。*

小型阻滯劑慶祝了這一發展。Coinbase 似乎終於加入了他們的陣營，這是 SegWit2x 棺材上的最後一顆釘子。小型攔截器向 Coinbase 首席執行官布賴恩·阿姆斯特朗 (Brian Armstrong) 發送了許多電子郵件和消息，對他的政策表示祝賀。Coinbase 負有保護客戶資產的受託責任，並且無論如何都可能支持分裂的雙方，因此一些人認為，任何託管人簽署任何承諾僅支持潛在分裂一方的協議都是不合適的。也許該公司現在意識到簽署紐約協議是不合適的。

然而，令人驚訝的是，兩天后，Coinbase 發布了另一篇與前一篇相矛盾的博文。這一次，該公司表示會將累積難度最大的鏈視為比特幣：

> *在我們之前的博客文章中，我們指出在分叉時，現有鏈將被稱為比特幣，而 Segwit2x 分叉將被稱為 Bitcoin2x。但是，一些客戶要求我們澄清分叉後會發生什麼。我們將調用難度最大的比特幣鏈。*

當然，即使是這種說法也可以解釋為違背了NYA；最初協議的目的是讓簽署方支持新幣作為比特幣，而不是在原幣和新幣之間採取看似中立的立場。小型阻止者對這項新的 Coinbase 政策感到困惑，該政策也被 Gemini 等其他幾家美國交易所採用。

當人們更詳細地考慮整個過程時，新的 Coinbase 政策就沒有什麼意義了。當涉及到訂單簿和股票代碼時，Coinbase 是不是需要選擇一個可以繼承原版的硬幣？如果沒有，那麼 Coinbase 將需要關閉交易所。這似乎是一個糟糕的商業決策，在交易需求回升時導致收入損失。此外，Coinbase 將在什麼時候確定哪條鏈的算力最高：一小時、一天、一周、一個月或一年後？Coinbase 從未透露過這一點。當然，哈希率領先可能會在競爭代幣之間波動。礦工也可能會查看市場以確定哪種代幣更有價值，從而幫助他們了解他們想要開採哪種代幣。如果交易所關閉，那麼礦工將如何做出這個決定呢？交易所和礦工這兩個團體基本上都在等待對方。在這些不確定的時期，Coinbase 是不是放棄了幫助確保市場有序和運作的責任？他們有責任幫助促進投資者表達意見的經濟過程，然後再反饋給礦工？在我看來，Bitfinex 和 BitMEX 選擇的方法比 Coinbase 凌亂和混亂的方法要負責任和清晰得多。在這些不確定的時期，Coinbase 是不是放棄了幫助確保市場有序和運作的責任？他們有責任幫助促進投資者表達意見的經濟過程，然後再反饋給礦工？在我看來，Bitfinex 和 BitMEX 選擇的方法比 Coinbase 凌亂和混亂的方法要負責任和清晰得多。在這些不確定的時期，Coinbase 是不是放棄了幫助確保市場有序和運作的責任？他們有責任幫助促進經濟過程，投資者可以通過這種過程表達他們的觀點，然後反饋給礦工？在我看來，Bitfinex 和 BitMEX 選擇的方法比 Coinbase 凌亂和混亂的方法要負責任和清晰得多。

當我們到達 10 月底時，比特幣社區對抗 SegWit2x 的勢頭幾乎不可阻擋。全球各地的本地聚會發表了反對 SegWit2x 的聲明，並確認他們會將原始規則鏈視為比特幣。這些聲明是由韓國、香港、意大利、德國、以色列、巴西和阿根廷等地區的當地社區發表的。以色列的聲明如下：

> *我們相信，以“比特幣”為名的貨幣的協議變更，尤其是需要硬分叉的貨幣，需要壓倒性的共識。SegWit2x 硬分叉不會以任何方式獲得這種共識，儘管情況仍然如此，但我們不能將由此產生的貨幣稱為“比特幣”。*

香港社區使用了更強烈的語言：

> *SegWit2x 不包括強大的交易重放保護，也沒有跨社區的廣泛共識。由於缺乏整個社區的共識和缺乏強大的重放保護，我們認為 SegWit2x 是一種魯莽的努力，它將對生態系統造成破壞和傷害。因此，我們強烈反對 SegWit2x。即使 SegWit2x 鏈擁有多數算力或更高的價格，這仍然是正確的。*

2017 年 11 月 4 日至 5 日週末在美國斯坦福大學召開了區塊大小戰爭期間的最後一次 Scaling 會議 Scaling IV。我決定從香港飛過來一個快速的周末訪問。事件平靜而平靜，很明顯戰爭即將結束。會議上幾乎沒有人支持 SegWit2x。然而，有一個明顯的例外。Bobby Lee 在“比特幣在中國”的第一天結束時發表了演講。Bobby 是 SegWit2x 為數不多的熱情支持者之一，他認為這是將雙方團結在一起的妥協。此時，Bobby 是 SegWit2x 的最後剩餘支持者之一，他似乎仍然認為它具有潛在的可行性。儘管事實上 Bobby 自己的交易所 BTCC（NYA 簽署人）已經實施了 SegWit2x 鏈拆分代幣並且 SegWit2x 代幣的交易價格約為比特幣價格的 10%。鮑比頑固地拒絕從紐約時報退縮。鮑比在斯坦福的演講結束時，是提問的時間。然而，就在此之前，鮑比說：

> *我將避免談論 SegWit2x 和 NYA，我們將專注於 Chin[Ese] 市場和其他任何東西*

Bobby 似乎知道 SegWit2x 不受歡迎，而且他會被有關提案的負面框架問題所困擾。鮑比沒有勇氣正視它並反駁。說服社區支持 SegWit2x 的想法到此為止；在這一點上，它的支持者拒絕對這個想法進行審查。

當我們到了 11 月時，截止日期已經臨近。SegWit2x 原定於 2017 年 11 月 15 日在區塊高度 494,784 處激活。謠言開始在一些大區塊頻道中流傳。據說吳忌寒說他只會虧本挖 SegWit2x 兩天，到時候如果繼續挖 SegWit2x 不划算，他會轉回比特幣和比特幣現金。比特大陸已經在一段時間內虧本開採比特幣現金，並且顯然渴望避免浪費更多的錢。大型阻止者從未真正支持 SegWit2x，他們的心都放在了比特幣現金上。SegWit2x 沒有得到用戶的支持。它沒有節點網絡；由於幾乎每個人都在運行比特幣核心，交易所要么拒絕了 SegWit2x，要么採取了中立的立場。現在，為 SegWit2x 留下了一個支持池，礦工，看起來正在消失。SegWit2x 已死在水中。小阻擊手看起來已經準備好取得一場轟動性的勝利。這不再是是否的問題，而是何時的問題。